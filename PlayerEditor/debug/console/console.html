<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Testing</title>
		<style type="text/css">
			.debugid { background-color: #212121; color: #fff; font-family: verdana, arial, sans-serif; font-weight: bold; font-size: 0.67em; padding: 6px; }
			.debugsubid { background-color: #3d3d3d; color: #fff; }
			.debugtd {  background-color: #fed; font-family: arial, verdana, sans-serif; font-size:0.67em; padding: 6px;}
			table { border-collapse: collapse; width: 500px; }
			th { text-align: left; }
			td { padding: 6px; }
		</style>
	</head>

	<script src="../../js/jQuery-Core-1.10.2.js"></script>

	
	
	<!-- Print testIds/testcases to table -->
	<script>
		function debugid(str) {	
			$('#debugTable > tbody').append("<tr><td colspan='4' class='debugid'>"+str+"</td></tr>");
		}
		function debugsubid(str) {	
			$('#debugTable > tbody').append("<tr><td colspan='4' class='debugsubid'>"+str+"</td></tr>");
		}
		
		// Fetch variable from obj "cons" in iframe
		function console(name) {
			return eval("window.frames['consframe'].cons." + name);
		}
		
		// Fetch variable public js var from iframe
		function console_pub(name) {
			return eval("window.frames['consframe']." + name);
		}
		
		function debug_pub(id) {	
			var value = console_pub(id);
			
			if(typeof value == "object") {
				value = JSON.stringify(value);
			}
			$('#debugTable').append("<tr class='debugtd'><td>"+id+"</td><td>"+value+"</td></tr>");
		}	
		
	
		function debug(id) {	
			var value = console(id);
			
			if(typeof value == "object") {
				value = JSON.stringify(value);
			}
			$('#debugTable').append("<tr class='debugtd'><td>"+id+"</td><td>"+value+"</td></tr>");
		}

	</script>
	
	<body>
	
		<iframe src="../../Consolerenderer/Consolerenderer.html" width="900" height="750" id="consframe" name="consframe" style="float: right;"></iframe>

		<table border="0" id="debugTable">
			<thead>
				<th>ID</th>
				<th>State</th>
			</thead>
			<tbody>
				<tr></tr>
			</tbody>
		</table>
		
	</body>
	
	<script>
		alert("!");
		setInterval(function() {
			$("#debugTable").empty();
			debugid("General Console variables");
			debug("consolewidth");
			debug("consoleheight");
			debug("tilesize");
			debugid("Swap screen con var");
			debug("currentbuffer");
			debugid("Caret variables");
			debug("carethidden");
			debug("caretblink");
			debug("caretx");
			debug("carety");
			debug("oldcaretx");
			debug("oldcarety");
			debugid("Color and default color");
			debug("defaultcolor");
			debug("defaultbgcolor");
			debug("color");
			debug("caretcolor");
			debugid("Deferred rendering vars");
			debug("delaycnt");
			debug("deferscroll");
			debug("step");
			debug("paused");
			debug("finished");
			debug("repeat");
			debug("fastforward");
			debug("windtarget");
			debug("playafterwind");
			debugid("Advancestep");
			debug_pub("nextdelay"),
			debug_pub("delay");
			debugid("Timesteps");
			debug("timesteps");
			debugid("carestate");
			debug("caretsaved.xk");
			debug("caretsaved.yk");
			debug("caretsaved.carethidden");
			debug("caretsaved.caretblink");
			debug("caretsaved.caretcolor");
			debug("caretsaved.textcolor");
			debug("caretsaved.textbgcolor");
			debugid("rows");
			debug("rows");
		}, 250);
	</script>

	
</html>